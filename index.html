<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Puzzle Unlock Gift</title>
<style>
  :root{
    --bg:#0f1724; --card:#0b1220; --accent:#ff6b81; --muted:#9aa4b2; --glass: rgba(255,255,255,0.04);
  }
  *{box-sizing:border-box;font-family:Inter, ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;}
  body{margin:0; min-height:100vh; background:linear-gradient(160deg,#071027 0%, #0f1724 60%); color:#e6eef6; display:flex; align-items:center; justify-content:center; padding:24px;}
  .wrap{width:980px; max-width:100%; background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01)); border-radius:14px; padding:28px; box-shadow: 0 10px 30px rgba(2,6,23,0.6); border:1px solid rgba(255,255,255,0.03);}
  header{display:flex; align-items:center; gap:16px;}
  .logo{width:64px; height:64px; border-radius:12px; background:linear-gradient(135deg,#ff7bac,#7ad1ff); display:flex; align-items:center; justify-content:center; font-weight:700; color:#071027; font-size:20px;}
  h1{margin:0;font-size:22px;}
  p.lead{color:var(--muted); margin-top:6px; margin-bottom:18px;}
  .stage{background:var(--card); padding:18px; border-radius:12px; margin-top:16px; border:1px solid var(--glass);}
  .hidden{display:none;}
  .scramble-input, .riddle-input, .code-input {width:100%; padding:10px 12px; border-radius:8px; border:1px solid rgba(255,255,255,0.06); background:transparent; color:inherit; font-size:16px;}
  button.btn{padding:10px 14px; border-radius:10px; border:0; cursor:pointer; background:linear-gradient(90deg,var(--accent), #8ad2ff); color:#071027; font-weight:600; box-shadow: 0 6px 18px rgba(122,209,255,0.08);}
  .small{font-size:13px; color:var(--muted);}
  .scramble-letters{display:flex; gap:8px; justify-content:center; margin-bottom:12px; flex-wrap:wrap;}
  .letter{background:rgba(255,255,255,0.03); padding:12px 14px; border-radius:8px; font-weight:700; font-size:18px; cursor:pointer; user-select:none;}
  .puzzle-row{display:flex; gap:12px; align-items:center; justify-content:center; margin-top:12px;}
  .hearts-wrap{display:flex; gap:14px; flex-wrap:wrap; justify-content:center; padding:18px;}
  .heart{width:64px; height:64px; display:flex; align-items:center; justify-content:center; border-radius:12px; background:rgba(255,255,255,0.02); cursor:pointer; border:1px solid rgba(255,255,255,0.02);}
  .final-card{padding:18px; border-radius:12px; background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01)); text-align:center;}
  .confetti-canvas{position:fixed; left:0; top:0; pointer-events:none; width:100%; height:100%; z-index:9999;}
</style>
</head>
<body>
<canvas id="confetti" class="confetti-canvas hidden"></canvas>
<div class="wrap">
  <header>
    <div class="logo">â™¥ï¸Ž</div>
    <div>
      <h1>Puzzle Unlock Gift</h1>
      <p class="lead">Solve the puzzles to reveal your surprise âœ¨</p>
    </div>
  </header>

  <!-- Stage 1: Word Scramble -->
  <div id="stage1" class="stage">
    <h3>Stage 1 â€” Word Scramble</h3>
    <p class="small">Unscramble the letters to form a word. Hint: itâ€™s your name ðŸ˜‰</p>
    <div class="scramble-letters" id="letters"></div>
    <div class="puzzle-row">
      <input id="scrambleAnswer" class="scramble-input" placeholder="Type the word here" autocomplete="off" />
      <button id="checkScramble" class="btn">Check</button>
    </div>
    <p id="scrambleMsg" class="small" style="text-align:center;margin-top:10px;"></p>
  </div>

  <!-- Stage 2: Riddle -->
  <div id="stage2" class="stage hidden">
    <h3>Stage 2 â€” Riddle</h3>
    <p class="small">Iâ€™m the reason why we met for the first time â€” who am I?</p>
    <div class="puzzle-row">
      <input id="riddleInput" class="riddle-input" placeholder="Type your answer (e.g. GDSC)" autocomplete="off" />
      <button id="checkRiddle" class="btn">Check</button>
    </div>
    <p id="riddleMsg" class="small" style="text-align:center;margin-top:10px;"></p>
  </div>

  <!-- Stage 3: Hidden Clicks -->
  <div id="stage3" class="stage hidden">
    <h3>Stage 3 â€” Find the right heart</h3>
    <p class="small">Click on the heart that feels special.</p>
    <div class="hearts-wrap" id="hearts"></div>
    <p id="heartMsg" class="small" style="text-align:center;margin-top:10px;"></p>
  </div>

  <!-- Stage 4: Numeric Lock -->
  <div id="stage4" class="stage hidden">
    <h3>Stage 4 â€” Numeric Lock</h3>
    <p class="small">Enter the 4-digit passcode to unlock the final surprise.</p>
    <div class="puzzle-row">
      <input id="codeInput" class="code-input" placeholder="Enter 4-digit code" maxlength="4" autocomplete="off" />
      <button id="checkCode" class="btn">Unlock</button>
    </div>
    <p id="codeMsg" class="small" style="text-align:center;margin-top:10px;"></p>
  </div>

  <!-- Final Reveal -->
  <div id="final" class="stage hidden">
    <div class="final-card">
      <h2>ðŸŽ‰ Surprise Unlocked!</h2>
      <p id="finalMessage" style="white-space:pre-wrap; text-align:left; margin:12px 0;"></p>
    </div>
  </div>
</div>

<script>
/* -------- CONFIG ---------- */
const PUZZLE1 = { word: "YUKTI", scramble: shuffleArray("YUKTI".split('')) };
const PUZZLE2_ANSWER = "GDSC";
const PUZZLE3_CORRECT_INDEX = 3;
const FINAL_CODE = "1206";

const USER_FINAL_MESSAGE = `sorrryttt yr please i sachi me never ever wanted to hurt uuuu . I am ready to resolve this thing by any meansssss . Dont stop
Talking . No lieeee ye vala tha . Def i was waiting for your message yrrrr . Idk how to say sorry rectify things but i am down to anythung . Samjhooio . Ikr u not at all in good space since that thing . Totally understand ofc cant understand of what you are going through . No one would be ever , these things sucksss yes . I just want u to heal asapp and if you still feel so that me bad . I am ready to go . Just wants you in good mood . And yes do rem i am very much proud. You are coping up with these very well till now and i really hope that h continue too in coming timessss . 
Much love 
Devaj`;

/* -------- helpers ---------- */
function shuffleArray(arr){
  let a = arr.slice();
  for(let i=a.length-1;i>0;i--){
    const j = Math.floor(Math.random()*(i+1));
    [a[i],a[j]]=[a[j],a[i]];
  }
  return a;
}

/* Stage 1 */
const lettersDiv = document.getElementById('letters');
function renderLetters(){
  lettersDiv.innerHTML = '';
  PUZZLE1.scramble.forEach((ch) => {
    const el = document.createElement('div');
    el.className = 'letter';
    el.textContent = ch;
    el.onclick = ()=>{ document.getElementById('scrambleAnswer').value += ch; };
    lettersDiv.appendChild(el);
  });
}
renderLetters();

document.getElementById('checkScramble').onclick = ()=>{
  const val = document.getElementById('scrambleAnswer').value.trim().toUpperCase();
  if(val === PUZZLE1.word){ 
    document.getElementById('stage1').classList.add('hidden');
    document.getElementById('stage2').classList.remove('hidden');
  } else {
    document.getElementById('scrambleMsg').textContent = "Nope, try again!";
  }
};

/* Stage 2 */
document.getElementById('checkRiddle').onclick = ()=>{
  const val = document.getElementById('riddleInput').value.trim().toUpperCase();
  if(val === PUZZLE2_ANSWER){
    document.getElementById('stage2').classList.add('hidden');
    document.getElementById('stage3').classList.remove('hidden');
    startHearts();
  } else {
    document.getElementById('riddleMsg').textContent = "Not correct, think again.";
  }
};

/* Stage 3 */
function startHearts(){
  const heartsDiv = document.getElementById('hearts');
  heartsDiv.innerHTML = '';
  for(let i=0;i<8;i++){
    const h = document.createElement('div');
    h.className='heart';
    h.textContent='ðŸ’–';
    h.onclick=()=>{
      if(i===PUZZLE3_CORRECT_INDEX){
        document.getElementById('stage3').classList.add('hidden');
        document.getElementById('stage4').classList.remove('hidden');
      } else {
        document.getElementById('heartMsg').textContent="Thatâ€™s not the special one!";
      }
    };
    heartsDiv.appendChild(h);
  }
}

/* Stage 4 */
document.getElementById('checkCode').onclick = ()=>{
  const code = document.getElementById('codeInput').value.trim();
  if(code===FINAL_CODE){
    document.getElementById('stage4').classList.add('hidden');
    document.getElementById('final').classList.remove('hidden');
    document.getElementById('finalMessage').textContent = USER_FINAL_MESSAGE;
  } else {
    document.getElementById('codeMsg').textContent = "Wrong code, try again.";
  }
};
</script>
</body>
</html>
